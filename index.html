<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta and Title -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AZ Sports - Radial Navigation Menu</title>

    <!-- External Styles and Scripts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <!-- Include Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap">
    <!-- Use the production build of Vue.js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <!-- Inline Styles -->
    <style>
        /* General Styles */
        body, #app {
            margin: 0; font-family: 'Roboto', sans-serif; background: #f0f0f0; overflow-x: hidden;
        }
        #app {
            min-height: 100vh; display: flex; flex-direction: column; align-items: center;
        }

        /* Logo and Navigation */
        .logo, .nav-circle {
            position: fixed; z-index: 1000; border-radius: 50%; display: flex; align-items: center; justify-content: center;
        }
        .logo {
            top: 20px; left: 20px; width: 100px; height: 100px; background: #fff; padding: 5px; box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        }
        .nav-circle {
            bottom: 30px; right: 30px; width: 60px; height: 60px; background: #0056b3; cursor: pointer; transition: transform 0.3s, background-color 0.3s; font-size: 18px;
            z-index: 1500;
        }
        .nav-circle:hover {
            transform: scale(1.1); background-color: #007bff;
        }
        .logo img {
            width: 100%; height: 100%; border-radius: 50%; object-fit: contain;
        }

        /* Menu Overlay and Radial Menu */
        .menu-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1300;
            backdrop-filter: blur(5px);
        }
        .radial-menu {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 500px; height: 500px; display: flex; justify-content: center; align-items: center; z-index: 1400;
        }
        .menu-item {
            position: absolute; width: 100px; height: 100px; background: #333; color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-direction: column;
            opacity: 0; transition: transform 0.5s, opacity 0.5s; transition-delay: calc(0.05s * var(--menu-index));
        }
        .menu-item.show {
            opacity: 1;
        }
        .menu-item:hover {
            transform: scale(1.1);
            background-color: #444;
        }
        .menu-item i {
            font-size: 1.5em;
        }
        .menu-label {
            font-size: 0.8em;
            margin-top: 5px;
            text-align: center;
        }

        /* Center Logo in Radial Menu */
        .menu-center-logo {
            position: absolute;
            top: 50%;
            left: 50%;
            z-index: 1; /* Ensure it appears below the menu items */
            transform: translate(-50%, -50%);
            animation: logoPop 0.5s ease-out;
        }

        .menu-center-logo img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: contain;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        .menu-center-logo img:hover {
            transform: rotate(10deg) scale(1.1);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
        }

        @keyframes logoPop {
            0% {
                transform: translate(-50%, -50%) scale(0);
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /* Carousel Styles */
        .product-carousel {
            position: relative; width: 100%; max-width: 800px; height: 500px; perspective: 1500px; display: flex; align-items: center; justify-content: center; margin-top: 100px; overflow: hidden; z-index: 1000;
        }
        .carousel-item {
            position: absolute; width: 180px; height: 270px; transform-origin: center; border: 2px solid #0056b3; border-radius: 10px; background: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); opacity: 0.7; transition: transform 1.5s cubic-bezier(0.25,1,0.5,1), opacity 1.5s;
        }
        .carousel-item.active {
            transform: translateZ(200px) scale(1.2); box-shadow: 0 8px 15px rgba(0,86,179,0.4); z-index: 2; opacity: 1;
        }
        .product-image {
            width: 100%; height: 200px; object-fit: cover; border-radius: 10px 10px 0 0;
        }
        .product-info {
            text-align: center; margin-top: 5px; background: #0056b3; color: #fff; padding: 5px; font-size: 0.9em; border-radius: 0 0 10px 10px;
        }

        /* Badge and Modal */
        .product-badge {
            position: absolute; top: 10px; left: 10px; background: red; color: #fff; padding: 8px; font-size: 0.9em; border-radius: 5px; animation: badgePulse 1.5s infinite ease-in-out;
        }
        @keyframes badgePulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 5px rgba(255,0,0,0.4); }
            50% { transform: scale(1.1); box-shadow: 0 0 15px rgba(255,0,0,0.7); }
        }
        .product-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 2000;
        }
        .modal-content {
            background: #fff; padding: 20px; border-radius: 10px; width: 80%; max-width: 500px; text-align: center;
        }

        /* Autoplay Toggle */
        .autoplay-toggle {
            margin-top: 20px; padding: 10px 20px; background: #fff; color: #0056b3; border: 2px solid #0056b3; border-radius: 5px; cursor: pointer; transition: background 0.3s, color 0.3s; font-size: 18px;
        }
        .autoplay-toggle:hover {
            background: #0056b3; color: #fff;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .radial-menu {
                width: 100%;
                height: auto;
                flex-direction: column;
            }
            .menu-item {
                position: relative;
                width: 100%;
                height: auto;
                border-radius: 0;
                margin: 10px 0;
                transform: none !important;
            }
            .nav-circle {
                width: 60px;
                height: 60px;
                font-size: 18px;
            }
            /* Adjust the autoplay-toggle for mobile */
            .autoplay-toggle {
                width: auto;
                height: auto;
                font-size: 16px;
                padding: 8px 16px;
            }
            /* Center logo adjustments for mobile */
            .menu-center-logo {
                position: relative;
                margin-bottom: 20px;
                animation: none; /* Disable animation on mobile */
                transform: none;
            }
            .menu-center-logo img:hover {
                transform: none; /* Disable hover effect on mobile */
            }
        }

        /* Prevent body scroll when menu is open */
        body.menu-open {
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div id="app" @keydown.esc="closeMenu" tabindex="0">
        <!-- Logo -->
        <div class="logo">
            <img src="./images/logo2.png" alt="AZ Sports Logo">
        </div>

        <!-- Navigation Circle -->
        <div class="nav-circle" @click="toggleMenu">
            <i class="fas fa-bars" style="color: white;"></i>
        </div>

        <!-- Menu Overlay -->
        <div v-if="menuOpen" class="menu-overlay" @click="toggleMenu"></div>

        <!-- Radial Menu -->
        <div class="radial-menu" v-if="menuOpen">
            <!-- Center Logo -->
            <div class="menu-center-logo">
                <img src="./images/logo2.png" alt="AZ Sports Logo">
            </div>
            <!-- Menu Items -->
            <div v-for="(item, index) in navItems" 
                 :key="item.name" 
                 :class="['menu-item', { show: menuOpen }]" 
                 :style="getMenuItemStyle(index)" 
                 tabindex="0" 
                 @keydown.enter="scrollToSection(item.path)">
                <a href="#" @click.prevent="scrollToSection(item.path)" style="color: inherit; text-decoration: none; display: flex; flex-direction: column; align-items: center;">
                    <i :class="item.icon"></i>
                    <span class="menu-label">{{ item.name }}</span>
                </a>
            </div>
        </div>

        <!-- Product Carousel -->
        <div class="product-carousel" @wheel="handleMouseWheel" @mousedown="startDrag" @mouseup="endDrag" @mousemove="onDrag" @touchstart="startDrag" @touchend="endDrag" @touchmove="onDrag" @mouseenter="pauseAutoplay" @mouseleave="resumeAutoplay">
            <div class="carousel-item" v-for="(product, index) in products" :key="index" :style="getItemStyle(index)" :class="{ active: index === activeIndex }" @click="showProductDetails(product)">
                <div v-if="product.badge" class="product-badge">{{ product.badge }}</div>
                <img :src="product.image" :alt="product.name" class="product-image" loading="lazy">
                <div class="product-info">
                    <h3>{{ product.name }}</h3>
                    <p>{{ product.price }}</p>
                </div>
            </div>
        </div>

        <!-- Autoplay Toggle -->
        <button class="autoplay-toggle" @click="toggleAutoplay">
            <i :class="autoplay ? 'fas fa-pause' : 'fas fa-play'"></i>
            {{ autoplay ? 'Pause Autoplay' : 'Start Autoplay' }}
        </button>

        <!-- Product Modal -->
        <div v-if="showModal" class="product-modal" @click="closeModal">
            <div class="modal-content" @click.stop>
                <h2>{{ selectedProduct.name }}</h2>
                <p>{{ selectedProduct.price }}</p>
                <p>{{ selectedProduct.description }}</p>
                <button @click="closeModal">Close</button>
            </div>
        </div>
    </div>

    <!-- Vue Script -->
    <script>
        const { createApp, ref, onMounted, watch } = Vue;
        createApp({
            setup() {
                const menuOpen = ref(false);
                const navItems = ref([
                    { name: 'Home', path: '#home', icon: 'fas fa-home' },
                    { name: "Men's Collection", path: '#mens-collection', icon: 'fas fa-male' },
                    { name: "Women's Collection", path: '#womens-collection', icon: 'fas fa-female' },
                    { name: "Kids' Collection", path: '#kids-collection', icon: 'fas fa-child' },
                    { name: 'New Arrivals', path: '#new-arrivals', icon: 'fas fa-tags' },
                    { name: 'Sale', path: '#sale', icon: 'fas fa-percent' },
                    { name: 'Contact Us', path: '#contact', icon: 'fas fa-envelope' },
                ]);

                const products = ref([
                    { name: 'Nike Air Zoom Pegasus', price: '$120', image: 'https://via.placeholder.com/200x300', description: 'High-performance running shoes with responsive cushioning.', badge: 'New' },
                    { name: 'Adidas Ultraboost 21', price: '$180', image: 'https://via.placeholder.com/200x300', description: 'Boost cushioning technology for maximum comfort.' },
                    { name: 'Puma Running Shoes', price: '$90', image: 'https://via.placeholder.com/200x300', description: 'Lightweight and breathable running shoes for everyday use.', badge: 'On Sale' },
                    { name: 'Reebok Crossfit Nano', price: '$110', image: 'https://via.placeholder.com/200x300', description: 'Designed for high-intensity crossfit training.' },
                    { name: 'Under Armour Hovr', price: '$130', image: 'https://via.placeholder.com/200x300', description: 'Provides a zero-gravity feel to maintain energy return.' },
                ]);

                const rotationAngle = ref(0);
                const activeIndex = ref(0);
                const showModal = ref(false);
                const selectedProduct = ref({});
                const autoplay = ref(true);
                const isMobile = ref(window.innerWidth <= 768);
                let autoplayInterval;
                let isDragging = false;
                let startX = 0;

                const updateIsMobile = () => {
                    isMobile.value = window.innerWidth <= 768;
                };

                window.addEventListener('resize', updateIsMobile);

                const calculatePosition = (index, totalItems) => {
                    const angle = (360 / totalItems) * index - 90; // Adjusted to start from top
                    const radius = 200;
                    const x = radius * Math.cos((angle * Math.PI) / 180);
                    const y = radius * Math.sin((angle * Math.PI) / 180);
                    return { transform: `translate(${x}px, ${y}px)` };
                };

                const getMenuItemStyle = (index) => {
                    if (isMobile.value) {
                        return { transform: 'none' };
                    }
                    return calculatePosition(index, navItems.value.length);
                };

                const toggleMenu = () => { menuOpen.value = !menuOpen.value; };

                const getItemStyle = (index) => {
                    const angle = (360 / products.value.length) * index + rotationAngle.value;
                    const zIndex = Math.round((Math.cos((angle * Math.PI) / 180) + 1) * 5);
                    return { transform: `rotateY(${angle}deg) translateZ(300px)`, zIndex };
                };

                const rotateCarousel = (direction) => {
                    rotationAngle.value += direction * (360 / products.value.length);
                    rotationAngle.value %= 360;
                    activeIndex.value = (activeIndex.value + direction + products.value.length) % products.value.length;
                };

                const handleMouseWheel = (event) => {
                    event.preventDefault();
                    rotateCarousel(event.deltaY > 0 ? 1 : -1);
                };

                const startDrag = (event) => {
                    isDragging = true;
                    startX = event.clientX || event.touches[0].clientX;
                };

                const endDrag = () => { isDragging = false; };

                const onDrag = (event) => {
                    if (!isDragging) return;
                    const currentX = event.clientX || event.touches[0].clientX;
                    const delta = currentX - startX;
                    if (Math.abs(delta) > 50) {
                        rotateCarousel(delta > 0 ? -1 : 1);
                        startX = currentX;
                    }
                };

                const showProductDetails = (product) => {
                    selectedProduct.value = product;
                    showModal.value = true;
                };

                const closeModal = () => { showModal.value = false; };

                const startAutoplay = () => {
                    autoplayInterval = setInterval(() => { rotateCarousel(1); }, 3000);
                };

                const pauseAutoplay = () => { clearInterval(autoplayInterval); };

                const resumeAutoplay = () => { if (autoplay.value) startAutoplay(); };

                const toggleAutoplay = () => {
                    autoplay.value = !autoplay.value;
                    autoplay.value ? startAutoplay() : pauseAutoplay();
                };

                const closeMenu = () => {
                    if (menuOpen.value) {
                        menuOpen.value = false;
                    }
                };

                const scrollToSection = (hash) => {
                    const element = document.querySelector(hash);
                    if (element) {
                        element.scrollIntoView({ behavior: 'smooth' });
                        menuOpen.value = false; // Close menu after navigation
                    }
                };

                watch(menuOpen, (newValue) => {
                    document.body.classList.toggle('menu-open', newValue);
                });

                onMounted(() => { if (autoplay.value) startAutoplay(); });

                return {
                    menuOpen, navItems, products, getMenuItemStyle, toggleMenu, getItemStyle,
                    handleMouseWheel, startDrag, endDrag, onDrag, showProductDetails, closeModal,
                    activeIndex, showModal, selectedProduct, autoplay, toggleAutoplay,
                    pauseAutoplay, resumeAutoplay, closeMenu, scrollToSection
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
